{"version":3,"sources":["components/NavBar/NavBar.jsx","components/HomePage/HomePage.jsx","services/serviceGMapsGeocode.js","components/MapGL/LocationPin.jsx","components/MapGL/PinInfo.jsx","components/MapGL/MapGL.jsx","components/FilterMenu/FilterMenu.jsx","services/hyperlocusApi.js","services/serviceOutlets.js","components/PinTable/PinTable.jsx","services/serviceTowns.js","components/ExplorePage/ExplorePage.jsx","components/AdminPage/AdminPage.jsx","components/common/Input.jsx","components/common/Select.jsx","components/CreatePage/CreatePage.jsx","services/serviceUser.js","components/LoginPage/LoginPage.jsx","components/AppPage/AppPage.jsx","App.js","serviceWorker.js","index.js"],"names":["NavBar","props","username","react_default","a","createElement","className","Link","to","NavLink","HomePage","_useState","useState","_useState2","Object","slicedToArray","location","setLocation","handleClick","option","addressStr","searchString","replace","fetch","concat","process","getApiRequest","then","response","ok","Error","json","data","results","geometry","catch","error","console","log","getAddress","long","lng","lat","history","push","value","data-testid","style","marginBottom","color","width","type","placeholder","aria-label","aria-describedby","maxWidth","opacity","onChange","event","target","name","map","index","key","onClick","display","margin","src","alt","height","justifyContent","pinStyle","cursor","fill","stroke","getClassName","LocationPin","_props$size","size","objectSpread","transform","PinInfo","properties","fontSize","address","navStyle","position","top","left","padding","MapGL","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_updateViewport","viewport","setState","_renderMarker","item","esm","longitude","coordinates","latitude","popupInfo","category","_renderPosition","_renderPopup","state","tipSize","anchor","closeOnClick","onClose","_displayPopup","_getLayer","town","GeoJsonLayer","id","lineWidthScale","filled","stroked","lineWidth","lineColor","lineWidthMinPixels","wireframe","getLineColor","f","getFillColor","pickable","onHover","info","_renderNeighborhood","towns","dist_esm","assign","layers","zoom","prevProps","prevState","_this2","_this$props","sites","popUp","dropPing","length","onViewportChange","mapboxApiAccessToken","Component","FilterMenu","dropdownOpen","setDropdownOpen","options","selected","sortOptions","handleSortSelect","getClass","role","toLowerCase","Dropdown","isOpen","toggle","DropdownToggle","caret","DropdownMenu","DropdownItem","hyperlocusApi","axios","create","baseURL","withCredentials","getOutlets","_getOutlets","apply","arguments","_callee","foodOutlets","regenerator_default","wrap","_context","prev","next","get","sent","filter","elem","postCode","postalCode","abrupt","t0","stop","_callee2","outlet","place","re","_context2","RegExp","test","openingTime","closingTime","tags","split","post","patch","getOutlet","_x3","_getOutlet","_callee3","_context3","message","PinTable","_ref","pins","sortedList","handleTableLeave","sort","first","second","overflow","element","getTowns","_x","_getTowns","ExplorePage","handleOptionSelect","finalOption","selectedOption","selectedSortOption","handlePinTableClick","popInfo","getDistance","pin","currentPosition","pinLocation","geolib","compareDistance","A","B","comparePostalCode","compareName","localeCompare","getCompareFunction","filterAndSortRestaurantList","_this$state","filteredByOption","site","includes","compareFunc","geolocation","navigator","getCurrentPosition","updatePosition","coords","updateViewsAndStates","match","params","_this$props$match$par","search","find","parseFloat","sortingOption","neighbourhoods","toConsumableArray","_this$state2","filteredSites","Container","Row","Col","md","lg","MapGL_MapGL_MapGL","FilterMenu_FilterMenu","handleMouseLeave","AdminPage","Input","handleChange","propertyName","nameAttr","str","strMod","chr","toUpperCase","charAt","slice","camelize","Fragment","htmlFor","Select","keyName","CreatePage","categories","errors","schema","Joi","string","required","number","integer","min","alphanum","validateField","obj","defineProperty","validate","details","abortEarly","reduce","acc","path","handleSelect","copy","_ref2","input","currentTarget","handleSubmit","preventDefault","_x2","_createOutlet","createOutlet","join","_this$state$data","onSubmit","postLogin","_postLogin","password","res","LoginPage","setUsername","_useState3","_useState4","setPassword","_useState5","_useState6","setError","asyncToGenerator","mark","updateUsername","autoFocus","AppPage","user","setUser","BrowserRouter","Switch","Route","component","render","ExplorePage_ExplorePage","CreatePage_CreatePage","LoginPage_LoginPage","Redirect","from","App","Boolean","window","hostname","ReactDOM","src_App","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e715dcd6.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\n\nexport default function NavBar(props) {\n  const { username } = props;\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <Link className=\"navbar-brand\" to=\"/\">\n        <i className=\"fab fa-fort-awesome\" /> Hyperl\n        <i className=\"fab fa-500px\" />\n        c(us)\n      </Link>\n\n      <div className=\"navbar-nav\">\n        <NavLink className=\"nav-item nav-link\" to=\"/home\">\n          Home\n        </NavLink>\n        <NavLink className=\"nav-item nav-link\" to=\"/explore\">\n          Explore\n        </NavLink>\n        <NavLink className=\"nav-item nav-link\" to=\"/admin\">\n          Admin\n        </NavLink>\n      </div>\n      <div className=\"navbar-nav  ml-auto\">\n        <NavLink className=\"nav-item nav-link\" to=\"/create\">\n          Create\n        </NavLink>\n        {username === \"\" ? (\n          <NavLink className=\"nav-item nav-link\" to=\"/login\">\n            Login\n          </NavLink>\n        ) : (\n          <NavLink className=\"nav-item nav-link\" to=\"/\">\n            Hi {username}\n          </NavLink>\n        )}\n      </div>\n    </nav>\n  );\n}\n/*\n<ul className=\"navbar-nav ml-auto\">\n<li className=\"nav-item\">\n    <a className=\"nav-link\" href=\"#\">Right</a>\n</li>\n<li className=\"nav-item\">\n    <a className=\"nav-link\" href=\"#\">Link</a>\n</li>\n</ul>\n*/\n","import React, { useState } from \"react\";\nimport { getAddress } from \"../../services/serviceGMapsGeocode\";\nimport \"./HomePage.css\";\n\nfunction HomePage(props) {\n  const options = [\n    { name: \"Live\", value: \"all\" },\n    { name: \"Health\", value: \"clinics\" },\n    { name: \"Eat\", value: \"hawkerCentre\" },\n    { name: \"Shop\", value: \"supermarket\" }\n  ];\n  const [location, setLocation] = useState(\"18 Telok Ayer\");\n\n  const handleLocationInput = event => {\n    setLocation(event.target.value);\n  };\n\n  const handleClick = option => {\n    getAddress(location).then(data => {\n      const long = data.location.lng;\n      const lat = data.location.lat;\n      props.history.push(`/explore/${long}/${lat}/${option.value}`);\n    });\n  };\n\n  return (\n    <div data-testid=\"home-page\">\n      <div style={{ marginBottom: \"20px\" }}>\n        <div className=\"bg d-flex justify-content-center\">\n          <div\n            className=\"input-group justify-content-center align-items-center transparent-input\"\n            style={{ color: \"white\", width: \"800px\" }}\n          >\n            <input\n              type=\"text\"\n              className=\"form-control \"\n              placeholder=\"Where to ??\"\n              aria-label=\"\"\n              aria-describedby=\"basic-addon2\"\n              style={{ maxWidth: \"50%\", opacity: \"20%\" }}\n              onChange={handleLocationInput}\n              value={location}\n            />\n            <div className=\"input-group-append\">\n              {options.map((option, index) => (\n                <button\n                  key={index}\n                  className=\"btn btn-outline-light\"\n                  type=\"button\"\n                  onClick={() => handleClick(option)}\n                >\n                  {option.name}\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{ display: \"flex\" }}>\n        <div className=\"media mt-10\" style={{ width: \"45%\", margin: \"5%\" }}>\n          <img\n            src=\"http://www.gstatic.com/tv/thumb/persons/1474/1474_v9_ba.jpg\"\n            className=\"align-self-start mr-3\"\n            alt=\"...\"\n            style={{ width: \"128px\", height: \"128px\" }}\n          />\n\n          <div className=\"media-body\">\n            <h5 className=\"mt-0\">Angeline</h5>\n            <p>\n              Finding a Home was never easier. Changed my life when I moved to\n              Singapore. Cant believe Google maps has not been able to offer me\n              this.\n            </p>\n          </div>\n        </div>\n        <div className=\"media mt-10\" style={{ width: \"45%\", margin: \"5%\" }}>\n          <img\n            src=\"http://4.bp.blogspot.com/_9DRIQ9xf9U4/TC0CgvEiqaI/AAAAAAAAAqw/_XymQC2rCgM/s400/download-besplatne-slike-pozadine-za-mobitele-brad-pitt.jpg\"\n            className=\"align-self-start mr-3\"\n            alt=\"...\"\n            style={{ width: \"128px\", height: \"128px\" }}\n          />\n          <div className=\"media-body\">\n            <h5 className=\"mt-0\">Jesstern</h5>\n            <p>\n              Dont know how my maids could have handled my 6 kids without this\n              app. I love living here now\n            </p>\n          </div>\n        </div>\n      </div>\n      <div style={{ display: \"flex\" }}>\n        <div\n          className=\"media mt-10\"\n          style={{ width: \"45%\", margin: \"5%\", justifyContent: \"center\" }}\n        >\n          <img\n            src=\"https://www.thenational.ae/image/policy:1.27002:1498914221/image/jpeg.jpg?f=1x1&w=128&$p$f$w=cf769b6\"\n            className=\"align-self-start mr-3\"\n            alt=\"...\"\n            style={{ width: \"128px\", height: \"128px\" }}\n          />\n\n          <div className=\"media-body\">\n            <h5 className=\"mt-0\">Gordon</h5>\n            <p>This is Awesome!</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default HomePage;\n","function getApiRequest(searchString) {\n  return `https://maps.googleapis.com/maps/api/geocode/json?address=${searchString},SG&key=${\n    process.env.REACT_APP_GMAPS_API_KEY\n  }`;\n}\n\nexport function getAddress(addressStr) {\n  const searchString = addressStr.replace(/ /i, \"+\");\n  return fetch(getApiRequest(searchString))\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\"Request Failed\");\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data.results[0].geometry;\n    })\n    .catch(error => console.log(error));\n}\n","import React from \"react\";\n\nconst pinStyle = {\n  cursor: \"pointer\",\n  fill: \"#d00\",\n  stroke: \"none\"\n};\nconst getClassName = type => {\n  switch (type) {\n    case \"retail\":\n      return \"fas fa-cart-arrow-down\";\n    case \"health\":\n      return \"fas fa-clinic-medical\";\n    case \"hawkerCentre\":\n      return \"fas fa-utensils\";\n    case \"food\":\n      return \"fas fa-utensils\";\n    default:\n      return \"far fa-compass\";\n  }\n};\n\nexport default function LocationPin(props) {\n  const { size = 20, onClick, type } = props;\n\n  return (\n    <i\n      className={getClassName(type)}\n      style={{\n        ...pinStyle,\n        transform: `translate(${-size / 2}px,${-size}px)`\n      }}\n      onClick={onClick}\n    />\n  );\n}\n","import React from \"react\";\nimport \"./MapGL.scss\";\n\nexport default function PinInfo(props) {\n  const { properties } = props;\n\n  return (\n    <div style={{ fontSize: \"8px\" }}>\n      <div className=\"pin-title\">{properties.name}</div>\n      <div className=\"pin-address\">{properties.address}</div>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport ReactMapGL, { NavigationControl, Marker, Popup } from \"react-map-gl\";\nimport LocationPin from \"./LocationPin\";\nimport PinInfo from \"./PinInfo\";\nimport DeckGL, { GeoJsonLayer } from \"deck.gl\";\nconst navStyle = {\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  padding: \"10px\"\n};\n\nexport default class MapGL extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewport: {\n        latitude: 1.3521,\n        longitude: 103.8198,\n        zoom: 10\n      },\n      popupInfo: null\n    };\n  }\n  _updateViewport = viewport => {\n    this.setState({ viewport });\n  };\n  _renderMarker = (item, index) => {\n    return (\n      <Marker\n        key={`marker-${index}`}\n        longitude={item.geometry.coordinates[0]}\n        latitude={item.geometry.coordinates[1]}\n      >\n        <LocationPin\n          size={10}\n          onClick={() => this.setState({ popupInfo: item })}\n          type={item.category}\n        />\n      </Marker>\n    );\n  };\n  _renderPosition = (longitude, latitude) => {\n    return (\n      <Marker key={`marker-center`} longitude={longitude} latitude={latitude}>\n        <LocationPin size={10} type={\"location\"} />\n      </Marker>\n    );\n  };\n\n  _renderPopup = () => {\n    const { popupInfo } = this.state;\n    return (\n      popupInfo && (\n        <Popup\n          tipSize={5}\n          anchor=\"top\"\n          longitude={popupInfo.geometry.coordinates[0]}\n          latitude={popupInfo.geometry.coordinates[1]}\n          closeOnClick={false}\n          onClose={() => this.setState({ popupInfo: null })}\n        >\n          <PinInfo properties={popupInfo.properties} type={popupInfo.type} />\n        </Popup>\n      )\n    );\n  };\n  _displayPopup = popupInfo => {\n    return (\n      popupInfo && (\n        <Popup\n          tipSize={5}\n          anchor=\"top\"\n          longitude={popupInfo.geometry.coordinates[0]}\n          latitude={popupInfo.geometry.coordinates[1]}\n          closeOnClick={false}\n          onClose={() => {\n            popupInfo = null;\n          }}\n        >\n          <PinInfo properties={popupInfo.properties} type={popupInfo.type} />\n        </Popup>\n      )\n    );\n  };\n  _getLayer = town => {\n    return new GeoJsonLayer({\n      id: `geojson-layer-${town.name}`,\n      data: {\n        type: \"Feature\",\n        geometry: {\n          type: \"Polygon\",\n          coordinates: town.location.coordinates\n        }\n      },\n      lineWidthScale: 4,\n      opacity: 0.4,\n      filled: true,\n      stroked: true,\n      lineWidth: 2,\n      lineColor: [255, 0, 0],\n      lineWidthMinPixels: 2,\n      wireframe: true,\n      getLineColor: f => [255, 0, 0],\n      getFillColor: f => [255, 0, 0, 0],\n      pickable: true,\n      onHover: info => {},\n      onClick: info => {}\n    });\n  };\n  _renderNeighborhood = (towns, viewport) => {\n    return (\n      <DeckGL {...viewport} layers={towns.map(town => this._getLayer(town))} />\n    );\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      this.props.position.longitude === prevProps.position.longitude &&\n      this.props.position.latitude === prevProps.position.latitude\n    ) {\n      return;\n    }\n    const { position } = this.props;\n    const viewport = { ...this.state.viewport };\n    viewport.longitude = position.longitude;\n    viewport.latitude = position.latitude;\n    viewport.zoom = 14;\n    this.setState({ viewport: viewport });\n  }\n\n  render() {\n    const { sites, popUp, position, towns } = this.props;\n    const { longitude, latitude } = position;\n    //const { longitude, latitude } = this.state.viewport;\n    const dropPing = sites.length > 0 ? true : false;\n    const { viewport } = this.state;\n    return (\n      <ReactMapGL\n        {...viewport}\n        height={600}\n        width={550}\n        onViewportChange={viewport => this.setState({ viewport })}\n        mapboxApiAccessToken={`${process.env.REACT_APP_MAPBOX_API_KEY}`}\n      >\n        {this._renderNeighborhood(towns, viewport)}\n        {this._renderPosition(longitude, latitude)}\n        {dropPing && sites.map(this._renderMarker)}\n        {this._renderPopup()}\n        {popUp && this._displayPopup(popUp)}\n        <div className=\"nav\" style={navStyle}>\n          <NavigationControl onViewportChange={this._updateViewport} />\n        </div>\n      </ReactMapGL>\n    );\n  }\n}\n//{this._renderPosition(longitude, latitude)}\n","import React, { useState } from \"react\";\nimport \"./FilterMenu.scss\";\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem\n} from \"reactstrap\";\n\nexport default function FilterMenu(props) {\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const {\n    options,\n    selected,\n    handleClick,\n    sortOptions,\n    handleSortSelect\n  } = props;\n  const getClass = (option, selected) => {\n    if (selected && option.name === selected.name) return \"btn btn-primary\";\n    if (!selected && option.value === \"all\") return \"btn btn-primary\";\n\n    return \"btn btn-outline-secondary\";\n  };\n  const toggle = () => {\n    const prevDropDown = dropdownOpen;\n    setDropdownOpen(!prevDropDown);\n  };\n\n  return (\n    <div className=\"btn-group mt-2\" role=\"group\" style={{ display: \"flex\" }}>\n      {options.map((option, index) => (\n        <button\n          key={index}\n          type=\"button\"\n          className={getClass(option, selected)}\n          onClick={() => handleClick(option)}\n          data-testid={`filter-btn-${option.value.toLowerCase()}`}\n        >\n          {option.name}\n        </button>\n      ))}\n      <Dropdown isOpen={dropdownOpen} toggle={toggle}>\n        <DropdownToggle caret>Sort By</DropdownToggle>\n        <DropdownMenu>\n          {sortOptions.map((item, index) => (\n            <DropdownItem key={index} onClick={() => handleSortSelect(item)}>\n              {item.name}\n            </DropdownItem>\n          ))}\n        </DropdownMenu>\n      </Dropdown>\n    </div>\n  );\n}\n","import axios from \"axios\";\nconst inDev = process.env.NODE_ENV !== \"production\";\n\nconst hyperlocusApi = axios.create({\n  baseURL: inDev\n    ? \"http://localhost:4000\"\n    : \"http://hyperlocus-server.herokuapp.com/\",\n  withCredentials: true\n});\n\nexport default hyperlocusApi;\n","import hyperlocusApi from \"./hyperlocusApi\";\n\nexport async function getOutlets() {\n  try {\n    const foodOutlets = await hyperlocusApi.get(\"/places\");\n    console.log(foodOutlets.data);\n    let data = foodOutlets.data.filter(elem => !!elem.location);\n    data = data.map(elem => {\n      elem.properties = {};\n      elem.properties.name = elem.name;\n      elem.properties.address = elem.address;\n      elem.properties.postCode = elem.postalCode;\n      elem.geometry = {};\n      elem.geometry.coordinates = [];\n      elem.geometry.coordinates[0] = elem.location.coordinates[0];\n      elem.geometry.coordinates[1] = elem.location.coordinates[1];\n      return elem;\n    });\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport async function createOutlet(outlet, id) {\n  try {\n    const place = {};\n    const re = new RegExp(\"^(0[0-9]|1[0-9]|2[0-3]|[0-9]):[0-5][0-9]$\");\n    place.category = outlet.category;\n    place.name = outlet.name;\n    place.type = outlet.type;\n    place.address = outlet.address;\n    place.postalCode = outlet.postalCode;\n    if (re.test(outlet.openingTime)) place.openingTime = outlet.openingTime;\n    if (re.test(outlet.closingTime)) place.closingTime = outlet.closingTime;\n    place.tags = outlet.tags.split(/[\\s,#]+/);\n    if (!id) {\n      place.location = null;\n      await hyperlocusApi.post(\"/places\", { place: place });\n    } else {\n      await hyperlocusApi.patch(`/places/${id}`, place);\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport async function getOutlet(id) {\n  console.log(id);\n  try {\n    const foodOutlets = await hyperlocusApi.get(`/places/${id}`);\n    console.log(foodOutlets.data);\n    let data = [foodOutlets.data];\n    data = data.filter(elem => !!elem.location);\n    data = data.map(elem => {\n      elem.type = \"foodOutlet\";\n      elem.properties = {};\n      elem.properties.name = elem.name;\n      elem.properties.address = elem.address;\n      elem.properties.postCode = elem.postalCode;\n      elem.geometry = {};\n      elem.geometry.coordinates = [];\n      elem.geometry.coordinates[0] = elem.location.coordinates[0];\n      elem.geometry.coordinates[1] = elem.location.coordinates[1];\n      return elem;\n    });\n\n    return data[0];\n  } catch (err) {\n    console.log(err.message);\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function PinTable({ pins, handleClick, handleTableLeave }) {\n  const sortedList = pins.sort((first, second) => {\n    if (first.name < second.name) return -1;\n    if (first.name > second.name) return 1;\n    return 0;\n  });\n  return (\n    <div style={{ height: \"550px\", overflow: \"auto\" }}>\n      <table className=\"table\" style={{ fontSize: \"auto\" }}>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Address</th>\n            <th>Postal Code</th>\n            <th />\n          </tr>\n        </thead>\n        <tbody>\n          {sortedList.map((element, index) => (\n            <tr key={index} data-testid=\"restaurant-table-row\">\n              <td>{element.properties.name}</td>\n              <td>{element.properties.address}</td>\n              <td>{element.properties.postCode}</td>\n              <td>\n                <Link\n                  className=\"btn btn-primary btn-sm\"\n                  to={`/create/${element.id}`}\n                >\n                  Edit\n                </Link>\n                <button className=\"btn btn-danger btn-sm\" onClick={() => {}}>\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n","import hyperlocusApi from \"./hyperlocusApi\";\n\nexport async function getTowns(location) {\n  try {\n    if (!location) {\n      const towns = await hyperlocusApi.get(\"/towns\");\n      return towns.data;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\n","import React, { Component } from \"react\";\nimport { Container, Row, Col } from \"reactstrap\";\nimport MapGL from \"../MapGL/MapGL\";\nimport FilterMenu from \"../FilterMenu/FilterMenu\";\nimport { getOutlets } from \"../../services/serviceOutlets\";\n\nimport PinTable from \"../PinTable/PinTable\";\nimport geolib from \"geolib\";\nimport { getTowns } from \"../../services/serviceTowns\";\n\nconst sortOptions = [\n  { name: \"Distance\", value: \"distance\" },\n  { name: \"Name\", value: \"name\" },\n  { name: \"Postal Code\", value: \"postalcode\" }\n];\n\nexport default class ExplorePage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sites: [],\n      towns: [],\n      options: [\n        { name: \"All\", value: \"all\" },\n        { name: \"Clinics\", value: \"clinics\" },\n        { name: \"Hawker Center\", value: \"hawkerCentre\" },\n        { name: \"Supermarket\", value: \"supermarket\" }\n      ],\n      selectedOption: null,\n      sortingOption: { name: \"distance\", value: \"distance\" },\n      popInfo: null,\n      currentPosition: {\n        latitude: 1.3521,\n        longitude: 103.8198\n      },\n      selectedSortOption: { name: \"Distance\", value: \"distance\" }\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      if (this.state.sites.length > 0) {\n        return;\n      }\n      if (!(this.props.match.params.long && this.props.match.params.lat)) {\n        this.geolocation();\n      } else {\n        this.updateViewsAndStates();\n      }\n      const { currentPosition } = this.state;\n      const foodOutlets = await getOutlets();\n      const neighbourhoods = await getTowns();\n      console.log(neighbourhoods);\n      this.setState({ sites: [...foodOutlets], towns: [...neighbourhoods] });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  handleOptionSelect = option => {\n    const finalOption = option === null ? this.state.options[0] : option;\n    this.setState({\n      selectedOption: finalOption\n    });\n  };\n  handleSortSelect = option => {\n    this.setState({ selectedSortOption: option });\n  };\n\n  handlePinTableClick = element => {\n    this.setState({ popInfo: element });\n  };\n  handleTableLeave = () => {\n    this.setState({ popInfo: null });\n  };\n\n  getDistance = pin => {\n    const currentPosition = { ...this.state.currentPosition };\n    const pinLocation = {\n      longitude: pin.geometry.coordinates[0],\n      latitude: pin.geometry.coordinates[1]\n    };\n    return geolib.getDistance(pinLocation, currentPosition);\n  };\n\n  compareDistance = (A, B) => {\n    return this.getDistance(A) - this.getDistance(B);\n  };\n\n  comparePostalCode = (A, B) => {\n    return A.properties.postCode - B.properties.postCode;\n  };\n  compareName = (A, B) => {\n    return A.properties.name.localeCompare(B.properties.name);\n  };\n\n  getCompareFunction = () => {\n    const { selectedSortOption } = this.state;\n    switch (selectedSortOption.value) {\n      case \"distance\":\n        return this.compareDistance;\n      case \"postalcode\":\n        return this.comparePostalCode;\n      case \"name\":\n        return this.compareName;\n      default:\n        return this.compareDistance;\n    }\n  };\n  filterAndSortRestaurantList = () => {\n    const { sites, selectedOption } = this.state;\n    let filteredByOption =\n      selectedOption && selectedOption.value !== \"all\"\n        ? sites.filter(site => selectedOption.value.includes(site.type))\n        : sites;\n\n    filteredByOption = filteredByOption.filter(\n      site => this.getDistance(site) < 50000\n    );\n    const compareFunc = this.getCompareFunction();\n    filteredByOption.length > 2 && filteredByOption.sort(compareFunc);\n    return filteredByOption;\n  };\n  geolocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this.updatePosition);\n    }\n  };\n  updatePosition = position => {\n    const currentPosition = { ...this.state.currentPosition };\n    currentPosition.longitude = position.coords.longitude;\n    currentPosition.latitude = position.coords.latitude;\n    this.setState({ currentPosition: currentPosition });\n  };\n\n  updateViewsAndStates = () => {\n    if (!(this.props.match.params.long && this.props.match.params.lat)) {\n      return;\n    }\n    const { long, lat, search } = this.props.match.params;\n    const currentPosition = { ...this.state.currentPosition };\n    const { options } = this.state;\n    const selectedOption = options.find(elem => elem.value === search);\n    currentPosition.longitude = parseFloat(long);\n    currentPosition.latitude = parseFloat(lat);\n\n    this.setState({\n      currentPosition: currentPosition,\n      selectedOption: selectedOption\n    });\n  };\n\n  render() {\n    let { options, popInfo, currentPosition, towns } = this.state;\n    const filteredSites = this.filterAndSortRestaurantList();\n    return (\n      <div data-testid=\"explore-page\">\n        <Container>\n          <Row>\n            <Col md=\"12\" lg=\"6\">\n              {\" \"}\n              <MapGL\n                sites={filteredSites}\n                towns={towns}\n                popUp={popInfo}\n                position={currentPosition}\n              />\n            </Col>\n            <Col md=\"12\" lg=\"6\">\n              <FilterMenu\n                options={options}\n                selected={this.state.selectedOption}\n                handleClick={this.handleOptionSelect}\n                sortOptions={sortOptions}\n                handleSortSelect={this.handleSortSelect}\n              />\n              <PinTable\n                pins={filteredSites}\n                handleClick={this.handlePinTableClick}\n                handleMouseLeave={this.handleTableLeave}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default function AdminPage() {\n  return <div data-testid=\"admin-page\">Admin Page</div>;\n}\n","import React from \"react\";\n\nfunction camelize(str) {\n  let strMod = str.replace(/\\s+(.)/g, function(match, chr) {\n    return chr.toUpperCase();\n  });\n  //return strMod;\n  return strMod.charAt(0).toLowerCase() + strMod.slice(1);\n}\n\nexport default function Input({ type, name, handleChange, value }) {\n  const propertyName = `${name.toLowerCase().replace(/\\s/, \"-\")}-input`;\n  const nameAttr = camelize(name);\n  return (\n    <React.Fragment>\n      <label htmlFor={propertyName}>{name}</label>\n      <input\n        type={type}\n        className=\"form-control\"\n        id={propertyName}\n        onChange={handleChange}\n        name={nameAttr}\n        value={value}\n      />\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\n\nexport default function Select({\n  name,\n  options,\n  keyName,\n  handleChange,\n  value\n}) {\n  const propertyName = `${name.toLowerCase().replace(/\\s/, \"-\")}`;\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={propertyName}>{name}</label>\n      <select\n        value={value}\n        className=\"form-control\"\n        id={propertyName}\n        name={keyName}\n        onChange={handleChange}\n      >\n        <option>Choose One</option>\n        {options.map((option, index) => (\n          <option key={index} value={option}>\n            {option}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport Joi from \"joi-browser\";\n\nimport Input from \"../common/Input\";\nimport Select from \"../common/Select\";\nimport { createOutlet, getOutlet } from \"../../services/serviceOutlets\";\n\nexport default class CreatePage extends Component {\n  state = {\n    categories: [\"healthcare\", \"Food\", \"retail\"],\n    data: {\n      category: \"\",\n      name: \"\",\n      type: \"\",\n      postalCode: \"\",\n      address: \"\",\n      openingTime: \"\",\n      closingTime: \"\",\n      tags: \"\"\n    },\n    errors: {}\n  };\n\n  schema = {\n    category: Joi.string().required(),\n    name: Joi.string().required(),\n    type: Joi.string().required(),\n    postalCode: Joi.number()\n      .integer()\n      .min(1)\n      .required(),\n    address: Joi.string().required(),\n    openingTime: Joi.string().alphanum(),\n    closingTime: Joi.string().alphanum(),\n    tags: Joi.string()\n  };\n\n  validateField = ({ name, value }) => {\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n    return error ? error.details[0].message : null;\n  };\n  validate = () => {\n    const data = { ...this.state.data };\n    const options = { abortEarly: false };\n    const { error } = Joi.validate(data, this.schema, options);\n    if (!error) return null;\n    const errors = error.details.reduce((acc, item) => {\n      acc[item.path[0]] = item.message;\n      return acc;\n    }, {});\n    return errors;\n  };\n  handleSelect = event => {\n    const copy = { ...this.state.data };\n    const keyName = event.target.name;\n    const value = event.target.value;\n    copy[keyName] = value;\n\n    console.log(copy[keyName]);\n    this.setState({ data: copy });\n  };\n  handleChange = ({ currentTarget: input }) => {\n    // const errors = { ...this.state.errors };\n    // const errorMessage = this.validateField(input);\n    // if (errorMessage) errors[input.name] = errorMessage;\n    // else delete errors[input.name];\n\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n\n    this.setState({ data });\n  };\n  handleSubmit = event => {\n    const id = this.props.match ? this.props.match.params.id : null;\n    event.preventDefault();\n    const copy = { ...this.state.data };\n    createOutlet(copy, id);\n    this.props.history.push(\"/home\");\n  };\n\n  async componentDidMount() {\n    const id = this.props.match ? this.props.match.params.id : null;\n    if (!id) {\n      return;\n    }\n    const outlet = await getOutlet(id);\n    const copy = {};\n    copy.category = outlet.category;\n    copy.name = outlet.name;\n    copy.type = outlet.type;\n    copy.postalCode = outlet.postalCode;\n    copy.address = outlet.address;\n    copy.openingTime = outlet.openingTime;\n    copy.closingTime = outlet.closingTime;\n    copy.tags = \"#\" + outlet.tags.map(elem => elem.name).join(\",#\");\n    console.log(copy);\n    this.setState({ data: copy });\n  }\n\n  render() {\n    const {\n      category,\n      name,\n      type,\n      postalCode,\n      address,\n      openingTime,\n      closingTime,\n      tags\n    } = this.state.data;\n    const { errors } = this.state;\n    return (\n      <div className=\"w-50  mt-4 mx-auto\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <Input\n              type={\"text\"}\n              name=\"Name\"\n              handleChange={this.handleChange}\n              value={name}\n              error={errors.name}\n            />\n            <Input\n              type={\"text\"}\n              name=\"Type\"\n              handleChange={this.handleChange}\n              value={type}\n              error={errors.name}\n            />\n            <Input\n              type={\"text\"}\n              name=\"Address\"\n              handleChange={this.handleChange}\n              value={address}\n              error={errors.name}\n            />\n            <Input\n              type={\"number\"}\n              name=\"Postal Code\"\n              handleChange={this.handleChange}\n              value={postalCode}\n              error={errors.name}\n            />\n          </div>\n          <div className=\"form-row\">\n            <div className=\"form-group col-md-6\">\n              <Input\n                type={\"text\"}\n                name=\"Opening Time\"\n                handleChange={this.handleChange}\n                value={openingTime ? openingTime : \"\"}\n                error={errors.name}\n              />\n            </div>\n            <div className=\"form-group col-md-6\">\n              <Input\n                type={\"text\"}\n                name=\"Closing Time\"\n                handleChange={this.handleChange}\n                value={closingTime ? closingTime : \"\"}\n                error={errors.name}\n              />\n            </div>\n          </div>\n          <Select\n            name=\"category\"\n            options={this.state.categories}\n            handleChange={this.handleSelect}\n            keyName=\"category\"\n            value={category}\n          />\n          <Input\n            type={\"text\"}\n            name=\"tags\"\n            keyName=\"tags\"\n            handleChange={this.handleChange}\n            value={tags}\n            error={errors.name}\n          />\n          <div className=\"row justify-content-end mt-4\">\n            <button type=\"submit\" className=\"btn btn-primary\">\n              Save\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n","import axios from \"axios\";\nconst inDev = process.env.NODE_ENV !== \"production\";\n\nconst hyperlocusApi = axios.create({\n  baseURL: inDev\n    ? \"http://localhost:4000\"\n    : \"http://hyperlocus-server.herokuapp.com\",\n  withCredentials: true\n});\n\nexport async function postLogin(username, password) {\n  try {\n    const res = await hyperlocusApi.post(\"/auth/login\", {\n      username: username,\n      password: password\n    });\n    return res;\n  } catch (err) {\n    console.error(err);\n  }\n}\n","import React from \"react\";\nimport { useState } from \"react\";\nimport \"./LoginPage.scss\";\nimport { postLogin } from \"../../services/serviceUser\";\n\nexport default function LoginPage(props) {\n  const [username, setUsername] = useState(\"example123\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const handleUsername = event => {\n    setUsername(event.target.value);\n  };\n  const handlePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    console.log(username, password);\n    const loggedIn = await postLogin(username, password);\n    if (loggedIn) {\n      const { updateUsername } = props;\n      updateUsername(username);\n      props.history.push(\"/explore\");\n      return;\n    }\n    setError(\"unable to login, please check your password\");\n  };\n\n  return (\n    <div className=\"text-center form-body\">\n      <form className=\"form-signin\" onSubmit={handleSubmit}>\n        <i className=\"fab fa-500px\" />\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\n        <label htmlFor=\"inputUsername\" className=\"sr-only\">\n          Email address\n        </label>\n        <input\n          type=\"username\"\n          id=\"inputUsername\"\n          className=\"form-control\"\n          placeholder=\"Email address\"\n          required\n          autoFocus\n          value={username}\n          onChange={handleUsername}\n        />\n\n        <label htmlFor=\"inputPassword\" className=\"sr-only\">\n          Password\n        </label>\n        <input\n          type=\"password\"\n          id=\"inputPassword\"\n          className=\"form-control\"\n          placeholder=\"Password\"\n          required\n          value={password}\n          onChange={handlePassword}\n        />\n\n        <button className=\"btn btn-lg btn-secondary btn-block\" type=\"submit\">\n          Sign in\n        </button>\n        {error && <div className=\"alert alert-danger\">{error}</div>}\n      </form>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport NavBar from \"../NavBar/NavBar\";\nimport HomePage from \"../HomePage/HomePage\";\nimport ExplorePage from \"../ExplorePage/ExplorePage\";\nimport AdminPage from \"../AdminPage/AdminPage\";\nimport CreatePage from \"../CreatePage/CreatePage\";\nimport LoginPage from \"../LoginPage/LoginPage\";\n\nexport default function AppPage() {\n  const [user, setUser] = useState(\"\");\n  console.log(user);\n  return (\n    <BrowserRouter>\n      <div>\n        <NavBar username={user} />\n        <Switch>\n          <Route path=\"/home\" component={HomePage} />\n          <Route\n            path=\"/explore/:long/:lat/:search\"\n            render={props => <ExplorePage {...props} />}\n          />\n          <Route path=\"/explore\" component={ExplorePage} />\n          <Route path=\"/admin\" component={AdminPage} />\n          <Route\n            path=\"/create/:id\"\n            render={props => <CreatePage {...props} />}\n          />\n          <Route path=\"/create\" component={CreatePage} />\n          <Route\n            path=\"/login\"\n            render={props => <LoginPage {...props} updateUsername={setUser} />}\n          />\n          <Redirect from=\"/\" to=\"/home\" />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n//<Route path=\"/login\" component={LoginPage} />\n","import React, { Component } from \"react\";\nimport AppPage from \"./components/AppPage/AppPage\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <AppPage />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}