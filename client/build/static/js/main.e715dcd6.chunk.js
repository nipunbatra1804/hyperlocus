(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){e.exports=a(170)},126:function(e,t,a){},130:function(e,t,a){},134:function(e,t,a){},135:function(e,t){},136:function(e,t){},137:function(e,t){},148:function(e,t,a){},167:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(69),s=a.n(o),i=(a(126),a(3)),c=a(5),l=a(9),u=a(7),m=a(10),p=a(14),d=a(182),h=a(184),g=a(106),f=a(183),v=a(86),b=a(173);function y(e){var t=e.username;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(v.a,{className:"navbar-brand",to:"/"},r.a.createElement("i",{className:"fab fa-fort-awesome"})," Hyperl",r.a.createElement("i",{className:"fab fa-500px"}),"c(us)"),r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(b.a,{className:"nav-item nav-link",to:"/home"},"Home"),r.a.createElement(b.a,{className:"nav-item nav-link",to:"/explore"},"Explore"),r.a.createElement(b.a,{className:"nav-item nav-link",to:"/admin"},"Admin")),r.a.createElement("div",{className:"navbar-nav  ml-auto"},r.a.createElement(b.a,{className:"nav-item nav-link",to:"/create"},"Create"),""===t?r.a.createElement(b.a,{className:"nav-item nav-link",to:"/login"},"Login"):r.a.createElement(b.a,{className:"nav-item nav-link",to:"/"},"Hi ",t)))}a(130);var E=function(e){var t=Object(n.useState)("18 Telok Ayer"),a=Object(p.a)(t,2),o=a[0],s=a[1],i=function(t){(function(e){var t=e.replace(/ /i,"+");return fetch(function(e){return"https://maps.googleapis.com/maps/api/geocode/json?address=".concat(e,",SG&key=").concat("AIzaSyAMfhcVW8oaYSIhHpzdJ9yGFbhBN0_iLmk")}(t)).then(function(e){if(!e.ok)throw new Error("Request Failed");return e.json()}).then(function(e){return e.results[0].geometry}).catch(function(e){return console.log(e)})})(o).then(function(a){var n=a.location.lng,r=a.location.lat;e.history.push("/explore/".concat(n,"/").concat(r,"/").concat(t.value))})};return r.a.createElement("div",{"data-testid":"home-page"},r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("div",{className:"bg d-flex justify-content-center"},r.a.createElement("div",{className:"input-group justify-content-center align-items-center transparent-input",style:{color:"white",width:"800px"}},r.a.createElement("input",{type:"text",className:"form-control ",placeholder:"Where to ??","aria-label":"","aria-describedby":"basic-addon2",style:{maxWidth:"50%",opacity:"20%"},onChange:function(e){s(e.target.value)},value:o}),r.a.createElement("div",{className:"input-group-append"},[{name:"Live",value:"all"},{name:"Health",value:"clinics"},{name:"Eat",value:"hawkerCentre"},{name:"Shop",value:"supermarket"}].map(function(e,t){return r.a.createElement("button",{key:t,className:"btn btn-outline-light",type:"button",onClick:function(){return i(e)}},e.name)}))))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:"media mt-10",style:{width:"45%",margin:"5%"}},r.a.createElement("img",{src:"http://www.gstatic.com/tv/thumb/persons/1474/1474_v9_ba.jpg",className:"align-self-start mr-3",alt:"...",style:{width:"128px",height:"128px"}}),r.a.createElement("div",{className:"media-body"},r.a.createElement("h5",{className:"mt-0"},"Angeline"),r.a.createElement("p",null,"Finding a Home was never easier. Changed my life when I moved to Singapore. Cant believe Google maps has not been able to offer me this."))),r.a.createElement("div",{className:"media mt-10",style:{width:"45%",margin:"5%"}},r.a.createElement("img",{src:"http://4.bp.blogspot.com/_9DRIQ9xf9U4/TC0CgvEiqaI/AAAAAAAAAqw/_XymQC2rCgM/s400/download-besplatne-slike-pozadine-za-mobitele-brad-pitt.jpg",className:"align-self-start mr-3",alt:"...",style:{width:"128px",height:"128px"}}),r.a.createElement("div",{className:"media-body"},r.a.createElement("h5",{className:"mt-0"},"Jesstern"),r.a.createElement("p",null,"Dont know how my maids could have handled my 6 kids without this app. I love living here now")))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:"media mt-10",style:{width:"45%",margin:"5%",justifyContent:"center"}},r.a.createElement("img",{src:"https://www.thenational.ae/image/policy:1.27002:1498914221/image/jpeg.jpg?f=1x1&w=128&$p$f$w=cf769b6",className:"align-self-start mr-3",alt:"...",style:{width:"128px",height:"128px"}}),r.a.createElement("div",{className:"media-body"},r.a.createElement("h5",{className:"mt-0"},"Gordon"),r.a.createElement("p",null,"This is Awesome!")))))},w=a(25),C=a.n(w),k=a(17),O=a(42),N=a(38),j=a(179),x=a(180),S=a(181),P=a(66),A={cursor:"pointer",fill:"#d00",stroke:"none"},T=function(e){switch(e){case"retail":return"fas fa-cart-arrow-down";case"health":return"fas fa-clinic-medical";case"hawkerCentre":case"food":return"fas fa-utensils";default:return"far fa-compass"}};function D(e){var t=e.size,a=void 0===t?20:t,n=e.onClick,o=e.type;return r.a.createElement("i",{className:T(o),style:Object(N.a)({},A,{transform:"translate(".concat(-a/2,"px,").concat(-a,"px)")}),onClick:n})}a(134);function I(e){var t=e.properties;return r.a.createElement("div",{style:{fontSize:"8px"}},r.a.createElement("div",{className:"pin-title"},t.name),r.a.createElement("div",{className:"pin-address"},t.address))}var _=a(88),L={position:"absolute",top:0,left:0,padding:"10px"},F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e)))._updateViewport=function(e){a.setState({viewport:e})},a._renderMarker=function(e,t){return r.a.createElement(P.a,{key:"marker-".concat(t),longitude:e.geometry.coordinates[0],latitude:e.geometry.coordinates[1]},r.a.createElement(D,{size:10,onClick:function(){return a.setState({popupInfo:e})},type:e.category}))},a._renderPosition=function(e,t){return r.a.createElement(P.a,{key:"marker-center",longitude:e,latitude:t},r.a.createElement(D,{size:10,type:"location"}))},a._renderPopup=function(){var e=a.state.popupInfo;return e&&r.a.createElement(P.c,{tipSize:5,anchor:"top",longitude:e.geometry.coordinates[0],latitude:e.geometry.coordinates[1],closeOnClick:!1,onClose:function(){return a.setState({popupInfo:null})}},r.a.createElement(I,{properties:e.properties,type:e.type}))},a._displayPopup=function(e){return e&&r.a.createElement(P.c,{tipSize:5,anchor:"top",longitude:e.geometry.coordinates[0],latitude:e.geometry.coordinates[1],closeOnClick:!1,onClose:function(){e=null}},r.a.createElement(I,{properties:e.properties,type:e.type}))},a._getLayer=function(e){return new _.a({id:"geojson-layer-".concat(e.name),data:{type:"Feature",geometry:{type:"Polygon",coordinates:e.location.coordinates}},lineWidthScale:4,opacity:.4,filled:!0,stroked:!0,lineWidth:2,lineColor:[255,0,0],lineWidthMinPixels:2,wireframe:!0,getLineColor:function(e){return[255,0,0]},getFillColor:function(e){return[255,0,0,0]},pickable:!0,onHover:function(e){},onClick:function(e){}})},a._renderNeighborhood=function(e,t){return r.a.createElement(_.b,Object.assign({},t,{layers:e.map(function(e){return a._getLayer(e)})}))},a.state={viewport:{latitude:1.3521,longitude:103.8198,zoom:10},popupInfo:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(this.props.position.longitude!==e.position.longitude||this.props.position.latitude!==e.position.latitude){var a=this.props.position,n=Object(N.a)({},this.state.viewport);n.longitude=a.longitude,n.latitude=a.latitude,n.zoom=14,this.setState({viewport:n})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.sites,n=t.popUp,o=t.position,s=t.towns,i=o.longitude,c=o.latitude,l=a.length>0,u=this.state.viewport;return r.a.createElement(P.d,Object.assign({},u,{height:600,width:550,onViewportChange:function(t){return e.setState({viewport:t})},mapboxApiAccessToken:"".concat("pk.eyJ1IjoibmlwdW5iYXRyYSIsImEiOiJjanN2eWticWIwYzg2NDluenlyZngwZDRtIn0.2vEUf6CpeRjHaGtps3N09A")}),this._renderNeighborhood(s,u),this._renderPosition(i,c),l&&a.map(this._renderMarker),this._renderPopup(),n&&this._displayPopup(n),r.a.createElement("div",{className:"nav",style:L},r.a.createElement(P.b,{onViewportChange:this._updateViewport})))}}]),t}(n.Component),z=(a(148),a(176)),U=a(185),W=a(177),q=a(178);function R(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),o=a[0],s=a[1],i=e.options,c=e.selected,l=e.handleClick,u=e.sortOptions,m=e.handleSortSelect,d=function(e,t){return t&&e.name===t.name?"btn btn-primary":t||"all"!==e.value?"btn btn-outline-secondary":"btn btn-primary"};return r.a.createElement("div",{className:"btn-group mt-2",role:"group",style:{display:"flex"}},i.map(function(e,t){return r.a.createElement("button",{key:t,type:"button",className:d(e,c),onClick:function(){return l(e)},"data-testid":"filter-btn-".concat(e.value.toLowerCase())},e.name)}),r.a.createElement(z.a,{isOpen:o,toggle:function(){s(!o)}},r.a.createElement(U.a,{caret:!0},"Sort By"),r.a.createElement(W.a,null,u.map(function(e,t){return r.a.createElement(q.a,{key:t,onClick:function(){return m(e)}},e.name)}))))}var H=a(81),M=a.n(H),V=M.a.create({baseURL:"http://hyperlocus-server.herokuapp.com/",withCredentials:!0});function J(){return B.apply(this,arguments)}function B(){return(B=Object(O.a)(C.a.mark(function e(){var t,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.get("/places");case 3:return t=e.sent,console.log(t.data),a=(a=t.data.filter(function(e){return!!e.location})).map(function(e){return e.properties={},e.properties.name=e.name,e.properties.address=e.address,e.properties.postCode=e.postalCode,e.geometry={},e.geometry.coordinates=[],e.geometry.coordinates[0]=e.location.coordinates[0],e.geometry.coordinates[1]=e.location.coordinates[1],e}),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function G(){return(G=Object(O.a)(C.a.mark(function e(t,a){var n,r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={},r=new RegExp("^(0[0-9]|1[0-9]|2[0-3]|[0-9]):[0-5][0-9]$"),n.category=t.category,n.name=t.name,n.type=t.type,n.address=t.address,n.postalCode=t.postalCode,r.test(t.openingTime)&&(n.openingTime=t.openingTime),r.test(t.closingTime)&&(n.closingTime=t.closingTime),n.tags=t.tags.split(/[\s,#]+/),a){e.next=17;break}return n.location=null,e.next=15,V.post("/places",{place:n});case 15:e.next=19;break;case 17:return e.next=19,V.patch("/places/".concat(a),n);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}},e,null,[[0,21]])}))).apply(this,arguments)}function $(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(O.a)(C.a.mark(function e(t){var a,n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,V.get("/places/".concat(t));case 4:return a=e.sent,console.log(a.data),n=(n=(n=[a.data]).filter(function(e){return!!e.location})).map(function(e){return e.type="foodOutlet",e.properties={},e.properties.name=e.name,e.properties.address=e.address,e.properties.postCode=e.postalCode,e.geometry={},e.geometry.coordinates=[],e.geometry.coordinates[0]=e.location.coordinates[0],e.geometry.coordinates[1]=e.location.coordinates[1],e}),e.abrupt("return",n[0]);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.message);case 15:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function Q(e){var t=e.pins,a=(e.handleClick,e.handleTableLeave,t.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}));return r.a.createElement("div",{style:{height:"550px",overflow:"auto"}},r.a.createElement("table",{className:"table",style:{fontSize:"auto"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Postal Code"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map(function(e,t){return r.a.createElement("tr",{key:t,"data-testid":"restaurant-table-row"},r.a.createElement("td",null,e.properties.name),r.a.createElement("td",null,e.properties.address),r.a.createElement("td",null,e.properties.postCode),r.a.createElement("td",null,r.a.createElement(v.a,{className:"btn btn-primary btn-sm",to:"/create/".concat(e.id)},"Edit"),r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){}},"Delete")))}))))}var X=a(104),Z=a.n(X);function K(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(O.a)(C.a.mark(function e(t){var a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=6;break}return e.next=4,V.get("/towns");case 4:return a=e.sent,e.abrupt("return",a.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}var te=[{name:"Distance",value:"distance"},{name:"Name",value:"name"},{name:"Postal Code",value:"postalcode"}],ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleOptionSelect=function(e){var t=null===e?a.state.options[0]:e;a.setState({selectedOption:t})},a.handleSortSelect=function(e){a.setState({selectedSortOption:e})},a.handlePinTableClick=function(e){a.setState({popInfo:e})},a.handleTableLeave=function(){a.setState({popInfo:null})},a.getDistance=function(e){var t=Object(N.a)({},a.state.currentPosition),n={longitude:e.geometry.coordinates[0],latitude:e.geometry.coordinates[1]};return Z.a.getDistance(n,t)},a.compareDistance=function(e,t){return a.getDistance(e)-a.getDistance(t)},a.comparePostalCode=function(e,t){return e.properties.postCode-t.properties.postCode},a.compareName=function(e,t){return e.properties.name.localeCompare(t.properties.name)},a.getCompareFunction=function(){switch(a.state.selectedSortOption.value){case"distance":return a.compareDistance;case"postalcode":return a.comparePostalCode;case"name":return a.compareName;default:return a.compareDistance}},a.filterAndSortRestaurantList=function(){var e=a.state,t=e.sites,n=e.selectedOption,r=n&&"all"!==n.value?t.filter(function(e){return n.value.includes(e.type)}):t;r=r.filter(function(e){return a.getDistance(e)<5e4});var o=a.getCompareFunction();return r.length>2&&r.sort(o),r},a.geolocation=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(a.updatePosition)},a.updatePosition=function(e){var t=Object(N.a)({},a.state.currentPosition);t.longitude=e.coords.longitude,t.latitude=e.coords.latitude,a.setState({currentPosition:t})},a.updateViewsAndStates=function(){if(a.props.match.params.long&&a.props.match.params.lat){var e=a.props.match.params,t=e.long,n=e.lat,r=e.search,o=Object(N.a)({},a.state.currentPosition),s=a.state.options.find(function(e){return e.value===r});o.longitude=parseFloat(t),o.latitude=parseFloat(n),a.setState({currentPosition:o,selectedOption:s})}},a.state={sites:[],towns:[],options:[{name:"All",value:"all"},{name:"Clinics",value:"clinics"},{name:"Hawker Center",value:"hawkerCentre"},{name:"Supermarket",value:"supermarket"}],selectedOption:null,sortingOption:{name:"distance",value:"distance"},popInfo:null,currentPosition:{latitude:1.3521,longitude:103.8198},selectedSortOption:{name:"Distance",value:"distance"}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(C.a.mark(function e(){var t,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(this.state.sites.length>0)){e.next=3;break}return e.abrupt("return");case 3:return this.props.match.params.long&&this.props.match.params.lat?this.updateViewsAndStates():this.geolocation(),this.state.currentPosition,e.next=7,J();case 7:return t=e.sent,e.next=10,K();case 10:a=e.sent,console.log(a),this.setState({sites:Object(k.a)(t),towns:Object(k.a)(a)}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.options,a=e.popInfo,n=e.currentPosition,o=e.towns,s=this.filterAndSortRestaurantList();return r.a.createElement("div",{"data-testid":"explore-page"},r.a.createElement(j.a,null,r.a.createElement(x.a,null,r.a.createElement(S.a,{md:"12",lg:"6"}," ",r.a.createElement(F,{sites:s,towns:o,popUp:a,position:n})),r.a.createElement(S.a,{md:"12",lg:"6"},r.a.createElement(R,{options:t,selected:this.state.selectedOption,handleClick:this.handleOptionSelect,sortOptions:te,handleSortSelect:this.handleSortSelect}),r.a.createElement(Q,{pins:s,handleClick:this.handlePinTableClick,handleMouseLeave:this.handleTableLeave})))))}}]),t}(n.Component);function ne(){return r.a.createElement("div",{"data-testid":"admin-page"},"Admin Page")}var re=a(0),oe=a(52),se=a.n(oe);function ie(e){var t=e.type,a=e.name,n=e.handleChange,o=e.value,s="".concat(a.toLowerCase().replace(/\s/,"-"),"-input"),i=function(e){var t=e.replace(/\s+(.)/g,function(e,t){return t.toUpperCase()});return t.charAt(0).toLowerCase()+t.slice(1)}(a);return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:s},a),r.a.createElement("input",{type:t,className:"form-control",id:s,onChange:n,name:i,value:o}))}function ce(e){var t=e.name,a=e.options,n=e.keyName,o=e.handleChange,s=e.value,i="".concat(t.toLowerCase().replace(/\s/,"-"));return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:i},t),r.a.createElement("select",{value:s,className:"form-control",id:i,name:n,onChange:o},r.a.createElement("option",null,"Choose One"),a.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))}var le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={categories:["healthcare","Food","retail"],data:{category:"",name:"",type:"",postalCode:"",address:"",openingTime:"",closingTime:"",tags:""},errors:{}},a.schema={category:se.a.string().required(),name:se.a.string().required(),type:se.a.string().required(),postalCode:se.a.number().integer().min(1).required(),address:se.a.string().required(),openingTime:se.a.string().alphanum(),closingTime:se.a.string().alphanum(),tags:se.a.string()},a.validateField=function(e){var t=e.name,n=e.value,r=Object(re.a)({},t,n),o=Object(re.a)({},t,a.schema[t]),s=se.a.validate(r,o).error;return s?s.details[0].message:null},a.validate=function(){var e=Object(N.a)({},a.state.data),t=se.a.validate(e,a.schema,{abortEarly:!1}).error;return t?t.details.reduce(function(e,t){return e[t.path[0]]=t.message,e},{}):null},a.handleSelect=function(e){var t=Object(N.a)({},a.state.data),n=e.target.name,r=e.target.value;t[n]=r,console.log(t[n]),a.setState({data:t})},a.handleChange=function(e){var t=e.currentTarget,n=Object(N.a)({},a.state.data);n[t.name]=t.value,a.setState({data:n})},a.handleSubmit=function(e){var t=a.props.match?a.props.match.params.id:null;e.preventDefault(),function(e,t){G.apply(this,arguments)}(Object(N.a)({},a.state.data),t),a.props.history.push("/home")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(O.a)(C.a.mark(function e(){var t,a,n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match?this.props.match.params.id:null){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,$(t);case 5:a=e.sent,(n={}).category=a.category,n.name=a.name,n.type=a.type,n.postalCode=a.postalCode,n.address=a.address,n.openingTime=a.openingTime,n.closingTime=a.closingTime,n.tags="#"+a.tags.map(function(e){return e.name}).join(",#"),console.log(n),this.setState({data:n});case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.data,t=e.category,a=e.name,n=e.type,o=e.postalCode,s=e.address,i=e.openingTime,c=e.closingTime,l=e.tags,u=this.state.errors;return r.a.createElement("div",{className:"w-50  mt-4 mx-auto"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement(ie,{type:"text",name:"Name",handleChange:this.handleChange,value:a,error:u.name}),r.a.createElement(ie,{type:"text",name:"Type",handleChange:this.handleChange,value:n,error:u.name}),r.a.createElement(ie,{type:"text",name:"Address",handleChange:this.handleChange,value:s,error:u.name}),r.a.createElement(ie,{type:"number",name:"Postal Code",handleChange:this.handleChange,value:o,error:u.name})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(ie,{type:"text",name:"Opening Time",handleChange:this.handleChange,value:i||"",error:u.name})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement(ie,{type:"text",name:"Closing Time",handleChange:this.handleChange,value:c||"",error:u.name}))),r.a.createElement(ce,{name:"category",options:this.state.categories,handleChange:this.handleSelect,keyName:"category",value:t}),r.a.createElement(ie,{type:"text",name:"tags",keyName:"tags",handleChange:this.handleChange,value:l,error:u.name}),r.a.createElement("div",{className:"row justify-content-end mt-4"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save"))))}}]),t}(n.Component),ue=(a(167),M.a.create({baseURL:"http://hyperlocus-server.herokuapp.com",withCredentials:!0}));function me(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(O.a)(C.a.mark(function e(t,a){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.post("/auth/login",{username:t,password:a});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function de(e){var t=Object(n.useState)("example123"),a=Object(p.a)(t,2),o=a[0],s=a[1],i=Object(n.useState)(""),c=Object(p.a)(i,2),l=c[0],u=c[1],m=Object(n.useState)(""),d=Object(p.a)(m,2),h=d[0],g=d[1],f=function(){var t=Object(O.a)(C.a.mark(function t(a){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log(o,l),t.next=4,me(o,l);case 4:if(!t.sent){t.next=10;break}return(0,e.updateUsername)(o),e.history.push("/explore"),t.abrupt("return");case 10:g("unable to login, please check your password");case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"text-center form-body"},r.a.createElement("form",{className:"form-signin",onSubmit:f},r.a.createElement("i",{className:"fab fa-500px"}),r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please sign in"),r.a.createElement("label",{htmlFor:"inputUsername",className:"sr-only"},"Email address"),r.a.createElement("input",{type:"username",id:"inputUsername",className:"form-control",placeholder:"Email address",required:!0,autoFocus:!0,value:o,onChange:function(e){s(e.target.value)}}),r.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Password"),r.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,value:l,onChange:function(e){u(e.target.value)}}),r.a.createElement("button",{className:"btn btn-lg btn-secondary btn-block",type:"submit"},"Sign in"),h&&r.a.createElement("div",{className:"alert alert-danger"},h)))}function he(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],o=t[1];return console.log(a),r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(y,{username:a}),r.a.createElement(h.a,null,r.a.createElement(g.a,{path:"/home",component:E}),r.a.createElement(g.a,{path:"/explore/:long/:lat/:search",render:function(e){return r.a.createElement(ae,e)}}),r.a.createElement(g.a,{path:"/explore",component:ae}),r.a.createElement(g.a,{path:"/admin",component:ne}),r.a.createElement(g.a,{path:"/create/:id",render:function(e){return r.a.createElement(le,e)}}),r.a.createElement(g.a,{path:"/create",component:le}),r.a.createElement(g.a,{path:"/login",render:function(e){return r.a.createElement(de,Object.assign({},e,{updateUsername:o}))}}),r.a.createElement(f.a,{from:"/",to:"/home"}))))}var ge=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(he,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(168),a(169);s.a.render(r.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[121,1,2]]]);
//# sourceMappingURL=main.e715dcd6.chunk.js.map